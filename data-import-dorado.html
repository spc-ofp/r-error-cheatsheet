<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Importing a report from Dorado</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<link rel="shortcut icon" href="favicon.ico"/>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="bootstrap.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <!-- NOTE: add "navbar-inverse" class for an alternate navbar background -->
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R workshop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Getting started <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="intro.html">R basics</a></li>
            <li><a href="data-import.html">Data import</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="data-import-dorado.html">Data import from Dorado</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="installing-packages.html">Installing packages</a></li>
          </ul>
        </li>
       <li><a href="data-manip-intro_1.html">Data manipulation</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Plots <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Base plots</a></li>
            <li><a href="introduction-to-ggplot2_LTB-modif.html">ggplot</a></li>
          </ul>
        </li>  
       <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Maps <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Map basics</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="ggplot_maps.html">Pie maps</a></li>
            <li><a href="intro-heatmaps.html">Heatmaps</a></li>
            </ul>
        </li>        
         <li><a href="bug.html">Bugs!</a></li>       
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li><a href="about.html"><img src="small%20SPC%20Logo%20white.png" style="width: 40px; margin-right: 10px"/>About</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Importing a report from Dorado</h1>

</div>


<div id="get-the-.csv-from-dorado" class="section level1">
<h1>Get the .csv from Dorado</h1>
<p>To get the Dorado report in a .csv, navigate to the report’s page, define report settings (if needed) and refresh. Click on the .csv icon to download the report as a .csv. <img src="how-to-dorado-csv.png" /></p>
</div>
<div id="importing-the-dorado-.csv-into-r" class="section level1">
<h1>Importing the Dorado .csv into R</h1>
<p>To import your saved Dorado .csv into R as a table (or, in R speak, a <code>data frame</code>), use the function <code>read.csv()</code>. Note: you use to specify the argument <code>fileEncoding='UTF-8-BOM'</code> otherwise the first column’s name will include weird characters. This is only necessary for reports saved straight from the Dorado website, you should not have to do this with a normal .csv.</p>
<p>ps: For R to store the report as an object, you need to pick a name for it and use <code>&lt;-</code> to assign the output of <code>read.csv</code> to your chosen name.</p>
<pre class="r"><code>report99 &lt;- read.csv(&#39;C:/path/to/dorado/report/report.csv&#39;, fileEncoding = &#39;UTF-8-BOM&#39;) # the table is now stored in the object report99

## OR, tell R to use a default folder for data import and export (the *working directory*)
setwd(&#39;C:/path/to/dorado/report/&#39;)
# no need to specify the path to .csv since we already told R which folder to look into by default
report99 &lt;- read.csv(&#39;report.csv&#39;, fileEncoding = &#39;UTF-8-BOM&#39;) 

# have a look: 
head(report99) # head() shows the first 6 rows of a data frame</code></pre>
</div>
<div id="optional-modifying-the-column-names" class="section level1">
<h1>Optional: Modifying the column names</h1>
<p>Because <code>R</code> cannot have column names with spaces, the Dorado default headers often end up being quite long (and a pain to retype later on when you need to refer to them!). You can either rename the columns of the entire data frame in a go, or you can pick specific columns.</p>
<div id="using-names" class="section level2">
<h2>Using <strong>names()</strong></h2>
<pre class="r"><code>names(report99)
names(report99) &lt;- c(&#39;Year&#39;, &#39;Month&#39;, &#39;ALB.mt&#39;)</code></pre>
</div>
<div id="modifying-the-name-of-specific-columns" class="section level2">
<h2>Modifying the name of specific columns</h2>
<p>If you know the position of your column, you can change its name as follow:</p>
<pre class="r"><code>rownames(t(report99))
names(report99)[3] &lt;- &#39;ALB.mt&#39;</code></pre>
<p>However, if later on the format of the files changes, you might be renaming the Month column instead…! An alternative is to directly use the column names so that even if the position changes in the original .csv, R will know which column you are referring to.</p>
<pre class="r"><code>require(dplyr) # load the dplyr library to access the rename function
report99 &lt;- rename(report99, ALB.mt = ALB.mt)
report99 &lt;- rename(report99, ALB.mt = ALB.mt, Month..=Month) # ps. In RStudio pressing tab within the rename function should give you a list of the existing column names in the data.frame</code></pre>
</div>
</div>

<p padding-top: 3cm>Copyright &copy; 2017 Pacific Community. All rights reserved.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
