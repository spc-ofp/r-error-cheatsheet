<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Introduction to the ggplot2 package – session 2</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="bootstrap.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <!-- NOTE: add "navbar-inverse" class for an alternate navbar background -->
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R workshop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Getting started <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="intro.html">R basics</a></li>
            <li><a href="data-import.html">Data import</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="data-import-dorado.html">Data import from Dorado</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="installing-packages.html">Installing packages</a></li>
          </ul>
        </li>
       <li><a href="data-manip-intro_1.html">Data manipulation</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Plots <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Base plots</a></li>
            <li><a href="introduction-to-ggplot2_LTB-modif.html">ggplot</a></li>
          </ul>
        </li>  
       <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Maps <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Map basics</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="ggplot_maps.html">Pie maps</a></li>
            <li><a href="intro-heatmaps.html">Heatmaps</a></li>
            </ul>
        </li>        
         <li><a href="bug.html">Bugs!</a></li>       
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li><a href="about.html">About</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Introduction to the ggplot2 package – session 2</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#barplots"><span class="toc-section-number">1</span> Barplots</a><ul>
<li><a href="#exercises"><span class="toc-section-number">1.1</span> Exercises</a></li>
</ul></li>
<li><a href="#plots-broken-up-by-groups"><span class="toc-section-number">2</span> Plots broken up by groups</a><ul>
<li><a href="#panel-plots-by-one-variable"><span class="toc-section-number">2.1</span> Panel plots by one variable</a></li>
<li><a href="#panel-plots-by-two-variables"><span class="toc-section-number">2.2</span> Panel plots by two variables</a></li>
<li><a href="#exercises-1"><span class="toc-section-number">2.3</span> Exercises</a></li>
</ul></li>
<li><a href="#juxtaposing-lines-on-the-same-plot"><span class="toc-section-number">3</span> Juxtaposing lines on the same plot</a></li>
</ul>
</div>

<pre class="r"><code>## Start by loading the data
ce &lt;- read.csv(file =&#39;sample.csv&#39;)
head(ce)</code></pre>
<pre><code>  Yr.Month   Yr Month Vessels Trips Sea.Days Hooks.100    ALB.mt    BET.mt
1  2010-01 2010     1       9   101       13      1790 241.63958  4.922446
2  2010-02 2010     2      16    89       21      1685  70.58278  1.537357
3  2010-03 2010     3       9    93       22      1688  67.66562  6.242182
4  2010-04 2010     4      11   102       17      2836 109.43606 10.358611
5  2010-05 2010     5      17   167       33      3446 333.18782 17.738877
6  2010-06 2010     6      11   161       28      3327 262.93567 16.185670
     YFT.mt   OTH.mt ALB.no BET.no YFT.no OTH.no
1  7.497130 43.80626  18680    253    959    227
2  5.039798 21.12126   3639     90    296    133
3  4.291998 18.62458   4791    326    187    100
4  4.558048 18.19926   5609    301    172     80
5 17.786435 30.26229  22843    853    900    176
6 16.482259 31.17723  10351    839    856    193</code></pre>
<pre class="r"><code>## Load required packages
library(ggplot2)
library(tidyr) # package to format dataset</code></pre>
<div id="barplots" class="section level1">
<h1><span class="header-section-number">1</span> Barplots</h1>
<p>Each month there is a certain number of vessels that went fishing. What is the distribution of this number of vessels?</p>
<p>You can find the distribution using the <code>table</code> function</p>
<pre class="r"><code>table(ce$Vessels)</code></pre>
<pre><code>
 2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 21 
 1  2  1  7  8  4  8  4  9 10  6  3  3  2  5  2  3  1  2 </code></pre>
<p>The function <code>geom_bar</code> will do this for you and plot up the results.</p>
<pre class="r"><code>ggplot(data = ce, aes(x = Vessels)) +
  geom_bar()</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/plot%20vessel%20count-1.png" width="3500" /></p>
<p>You’ll see the geom_bar function with an <code>identity</code> argument. In this case it doesn’t sum up the counts first to find the distribution, but uses the user-provided count variable in the data frame.</p>
<p>A little example will demonstrate this. Note that is this case for ggplot you need to say what will be along the x-axis and y-axis (the counts).</p>
<pre class="r"><code>df &lt;- data.frame(Year = rep(2013:2017, each=2), 
                 Season=rep(c(&#39;Summer&#39;,&#39;Winter&#39;),5),
                 catch = c(4, 11, 3, 8, 1, 6, 2, 4, 3, 12))
df</code></pre>
<pre><code>   Year Season catch
1  2013 Summer     4
2  2013 Winter    11
3  2014 Summer     3
4  2014 Winter     8
5  2015 Summer     1
6  2015 Winter     6
7  2016 Summer     2
8  2016 Winter     4
9  2017 Summer     3
10 2017 Winter    12</code></pre>
<pre class="r"><code>ggplot(data = df, aes(x = Year, y = catch)) +
  geom_bar(stat = &quot;identity&quot;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-2-1.png" width="3500" /></p>
<pre class="r"><code>ggplot(data = df, aes(x = Year, y = catch, fill=Season)) +
  geom_bar(stat = &quot;identity&quot;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-3-1.png" width="3500" /></p>
<p>Show the proportional barplot instead:</p>
<pre class="r"><code>ggplot(data = df, aes(x = Year, y = catch, fill=Season)) +
  geom_bar(stat = &quot;identity&quot;, position=&#39;fill&#39;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-4-1.png" width="3500" /></p>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">1.1</span> Exercises</h2>
<p>(1. For albacore tuna find the annual CPUE (as metric tonnes divided by number of hooks). Make a scatter plot of the albacore CPUE over time.)</p>
<ol start="2" style="list-style-type: decimal">
<li>Load the <code>catch_effort</code> dataset (from <strong>catch.RData</strong>). Make a line plot of the bigeye catch per year.</li>
</ol>
<p>Step 1: Import the data and look at it</p>
<pre class="r"><code>load(&#39;catch.RData&#39;, verbose=TRUE)</code></pre>
<pre><code>Loading objects:
  catch_effort</code></pre>
<pre class="r"><code>head(catch_effort)</code></pre>
<pre><code>    yy  hook  ALB  BET  YFT total      cpue
1 2000 12536 1162 2959 1993  6114 0.4877154
2 2001 20139 1011 2314 2383  5708 0.2834302
3 2002 10341 1025 2716 2343  6084 0.5883377
4 2003 26614 1414 2113 2230  5757 0.2163147
5 2004 12464 1453 2132 2297  5882 0.4719191
6 2005 33935 1295 2390 2090  5775 0.1701783</code></pre>
<p>Step 2: Set-up <code>ggplot</code>, specify which dataset to use with <code>data = ...</code> Next specify the x-variable and the y-variable Next specify which type of geom layer to use</p>
<pre class="r"><code>ggplot(data=catch_effort, aes(x=yy, y=BET)) + geom_line()</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-6-1.png" width="3500" /></p>
<ol start="3" style="list-style-type: decimal">
<li>For this same dataset, make a barplot of the total catch per year.</li>
</ol>
<p>Step 1: Find my dataset and format it DONE. Step 2:</p>
<pre class="r"><code>ggplot(data=catch_effort, aes(x=yy, y=total)) + 
  geom_bar(stat = &quot;identity&quot;, fill=&#39;azure3&#39;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-7-1.png" width="3500" /></p>
<pre class="r"><code>ggplot(data=catch_effort, aes(x=yy, y=total)) + 
  geom_bar(stat = &quot;identity&quot;, fill=&#39;azure3&#39;) +
  geom_smooth(method=&#39;lm&#39;, col=&#39;indianred&#39;, se = FALSE)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-8-1.png" width="3500" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Now, make a barplot of the total catch per year, but split by tuna species. Ps: To do this, you will need to first convert the dataset to have tuna species in a single column instead of 3 columns. We use the function <code>gather</code> to do this, and create a new column called <code>Species</code> and a second column called <code>catch</code> with the species catch.</li>
</ol>
<pre class="r"><code>## use the function gather in the library tidyr
catchlong &lt;- gather(catch_effort, Species, catch, ALB:YFT)
head(catchlong)</code></pre>
<pre><code>    yy  hook total      cpue Species catch
1 2000 12536  6114 0.4877154     ALB  1162
2 2001 20139  5708 0.2834302     ALB  1011
3 2002 10341  6084 0.5883377     ALB  1025
4 2003 26614  5757 0.2163147     ALB  1414
5 2004 12464  5882 0.4719191     ALB  1453
6 2005 33935  5775 0.1701783     ALB  1295</code></pre>
<p>Verify that <code>catchlong</code> has 3 times the number of rows than <code>catch_effort</code> did (since we turned the three tuna columns into a single longer one).</p>
<p>You are now ready to do the stacked barplot. Ps: the colours won’t be right, don’t worry about this for now.</p>
<pre class="r"><code>ggplot(data=catchlong, aes(x=yy, y=catch, fill=Species)) + 
  geom_bar(stat = &quot;identity&quot;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-10-1.png" width="3500" /></p>
<ol start="5" style="list-style-type: decimal">
<li>Do this same plot but as a proportional barplot.</li>
</ol>
<pre class="r"><code>ggplot(data=catchlong, aes(x=yy, y=catch, fill=Species)) + 
  geom_bar(stat = &quot;identity&quot;, position=&#39;fill&#39;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-11-1.png" width="3500" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Using the same data, plot albacore, bigeye and yellowfin catch as lines on the same plot</li>
</ol>
<pre class="r"><code>ggplot(data=catchlong, aes(x=yy, y=catch, color=Species)) + 
  geom_line()</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-12-1.png" width="3500" /></p>
</div>
</div>
<div id="plots-broken-up-by-groups" class="section level1">
<h1><span class="header-section-number">2</span> Plots broken up by groups</h1>
<p>One of the great features of <code>ggplot</code> is that it is very easy to create panel plots, using the functions <code>facet_wrap</code> and <code>facet_grid</code>.</p>
<div id="panel-plots-by-one-variable" class="section level2">
<h2><span class="header-section-number">2.1</span> Panel plots by one variable</h2>
<p>You can make separate plots of the albacore tuna catch density by month, by adding in the <code>facet_wrap</code> function.</p>
<p>You put <code>Month</code> in the facet_wrap function, preceding it by a tilde (“~”).</p>
<pre class="r"><code>ggplot(data = ce, aes(x = ALB.mt)) +
  geom_density(adjust = 0.5, fill = &quot;darkblue&quot;) +
  facet_wrap( ~Month)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/plot%20density%20by%20month-1.png" width="3500" /></p>
<p>ps: you can only split plots by a discrete (categorical) variable, e.g. Month, season, species, etc.</p>
<p>Plot the distribution of albacore, split by year</p>
<pre class="r"><code>ggplot(data = ce, aes(x = ALB.mt)) +
  geom_density(adjust = 0.5, fill = &quot;darkblue&quot;) +
  facet_wrap( ~Yr)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/plot%20density%20by%20month%20II-1.png" width="3500" /></p>
<p>Do this same plot but with a histogram:</p>
<pre class="r"><code>ggplot(data = ce, aes(x = ALB.mt)) +
  geom_histogram() +
  facet_wrap( ~Yr)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-13-1.png" width="3500" /></p>
<p>Make a line plot of albacore catch per month, split by year panels.</p>
<pre class="r"><code>ggplot(data = ce, aes(x = Month, y=ALB.mt)) +
  geom_line() +
  facet_wrap( ~Yr)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-14-1.png" width="3500" /></p>
<p>Make a line plot of bigeye catch per month, split by year panels.</p>
<pre class="r"><code>ggplot(data = ce, aes(x = Month, y=BET.mt)) +
  geom_line() +
  facet_wrap( ~Yr)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-15-1.png" width="3500" /></p>
</div>
<div id="panel-plots-by-two-variables" class="section level2">
<h2><span class="header-section-number">2.2</span> Panel plots by two variables</h2>
<p>If there are two variables by which you would like to visualise your data, use the function <code>facet_grid</code> instead, specifying the two variables to split the panels on each side of the tilde.</p>
<p>First we will add a second categorical variable to split out dataset.</p>
<pre class="r"><code>ce$Season &lt;- ifelse(ce$Month %in% c(1:3,10:12), &#39;Cool&#39;, &#39;Warm&#39;)

head(ce)</code></pre>
<pre><code>  Yr.Month   Yr Month Vessels Trips Sea.Days Hooks.100    ALB.mt    BET.mt
1  2010-01 2010     1       9   101       13      1790 241.63958  4.922446
2  2010-02 2010     2      16    89       21      1685  70.58278  1.537357
3  2010-03 2010     3       9    93       22      1688  67.66562  6.242182
4  2010-04 2010     4      11   102       17      2836 109.43606 10.358611
5  2010-05 2010     5      17   167       33      3446 333.18782 17.738877
6  2010-06 2010     6      11   161       28      3327 262.93567 16.185670
     YFT.mt   OTH.mt ALB.no BET.no YFT.no OTH.no Season
1  7.497130 43.80626  18680    253    959    227   Cool
2  5.039798 21.12126   3639     90    296    133   Cool
3  4.291998 18.62458   4791    326    187    100   Cool
4  4.558048 18.19926   5609    301    172     80   Warm
5 17.786435 30.26229  22843    853    900    176   Warm
6 16.482259 31.17723  10351    839    856    193   Warm</code></pre>
<p>Now we make a plot of albacore catch distribution by year and season:</p>
<pre class="r"><code>ggplot(data = ce, aes(x = ALB.mt, fill=Season)) +
  geom_density(adjust = 0.5) +
  facet_grid(Yr~Season)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-17-1.png" width="3500" /></p>
</div>
<div id="exercises-1" class="section level2">
<h2><span class="header-section-number">2.3</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li>Make the density plot of bigeye catch, but split in panels by Month.</li>
</ol>
<pre class="r"><code>ggplot(data = ce, aes(x = BET.mt)) +
  geom_density(adjust = 0.5, fill = &quot;darkblue&quot;) +
  facet_wrap( ~Month)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-18-1.png" width="3500" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Make the histogram of albacore CPUE, but split in panels by season.</li>
</ol>
<pre class="r"><code># add new albacore CPUE column to the ce dataframe 
# CPUE = catch / effort
ce$ALB.cpue &lt;- ce$ALB.mt/ce$Hooks.100 # add new column in dataset with the ALB CPUE
ggplot(ce, aes(x=ALB.cpue)) +
  geom_histogram() +
  facet_wrap(~Season)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-19-1.png" width="3500" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Make a scatterplot of bigeye vs. yellowfin catch, but split in panels by season, with the years coloured in individually.</li>
</ol>
<pre class="r"><code>ggplot(data=ce, aes(x=BET.mt, y=YFT.mt, color=as.factor(Yr))) + 
  geom_point() +
  facet_wrap(~Season)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-20-1.png" width="4000" /></p>
</div>
</div>
<div id="juxtaposing-lines-on-the-same-plot" class="section level1">
<h1><span class="header-section-number">3</span> Juxtaposing lines on the same plot</h1>
<p>Read in new format of dataset with species in the column ‘Species’ instead of one column per species type, add date to plot</p>
<pre class="r"><code>ce.long &lt;- read.csv(&#39;sample_data-long.csv&#39;)
names(ce.long)</code></pre>
<pre><code> [1] &quot;Yr.Month&quot;  &quot;Yr&quot;        &quot;Month&quot;     &quot;Vessels&quot;   &quot;Trips&quot;    
 [6] &quot;Sea.Days&quot;  &quot;Hooks.100&quot; &quot;Species&quot;   &quot;Catch.mt&quot;  &quot;Catch.no&quot; </code></pre>
<pre class="r"><code>table(ce.long$Species)</code></pre>
<pre><code>
ALB BET OTH YFT 
 81  81  81  81 </code></pre>
<pre class="r"><code>ce.long$date &lt;- ce.long$Yr + (ce.long$Month-1)/12
head(ce.long)</code></pre>
<pre><code>  Yr.Month   Yr Month Vessels Trips Sea.Days Hooks.100 Species  Catch.mt
1  2010-01 2010     1       9   101       13      1790     ALB 241.63958
2  2010-02 2010     2      16    89       21      1685     ALB  70.58278
3  2010-03 2010     3       9    93       22      1688     ALB  67.66562
4  2010-04 2010     4      11   102       17      2836     ALB 109.43606
5  2010-05 2010     5      17   167       33      3446     ALB 333.18782
6  2010-06 2010     6      11   161       28      3327     ALB 262.93567
  Catch.no     date
1    18680 2010.000
2     3639 2010.083
3     4791 2010.167
4     5609 2010.250
5    22843 2010.333
6    10351 2010.417</code></pre>
<p>Plot catch (in mt) by date using ggplot. The group argument allows to separate line by the values in an index column (here <strong>Species</strong>).</p>
<pre class="r"><code>ggplot(ce.long, 
       aes(x=date, y=Catch.mt, color=Species)) + 
  geom_line() + 
  geom_point() </code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-22-1.png" width="3500" /></p>
<p>To change the color scheme, you can use the function <code>scale_color_brewer()</code>.</p>
<pre class="r"><code>ggplot(ce.long, 
       aes(x=date, y=Catch.mt, color=Species)) + 
  geom_line() + 
  geom_point() + 
  scale_color_brewer(palette=&#39;Spectral&#39;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-23-1.png" width="3500" /></p>
<p>Plot catch (in mt) for each species in a single panel.</p>
<pre class="r"><code>ggplot(ce.long, 
       aes(x=date, y=Catch.mt)) + 
  geom_line(colour=&#39;dodgerblue4&#39;) + 
  geom_point() + 
  scale_color_brewer(palette = &#39;Spectral&#39;) + 
  theme_bw() + facet_wrap(~Species, scales =&#39;free_y&#39;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-24-1.png" width="3500" /></p>
<p>Plot catch (in mt) for each species in a single panel and colour the points as a function of the effort (<code>Hooks.100</code>) in that month.</p>
<pre class="r"><code>ggplot(ce.long, 
       aes(x=date, y=Catch.mt, colour=Hooks.100)) + 
  geom_line(colour=&#39;red&#39;) + 
  geom_point() + 
  theme_bw() + facet_wrap(~Species, scales =&#39;free_y&#39;)</code></pre>
<p><img src="introduction-to-ggplot2_session2_files/figure-html/unnamed-chunk-25-1.png" width="3500" /></p>
</div>

<p padding-top: 3cm>Copyright &copy; 2017 Pacific Community. All rights reserved.</p>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
